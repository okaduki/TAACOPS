# 2.3.23

数列$$(a_1,a_2,\ldots,a_n)$$を円にある数を順番に並べたものとみなして考える。
ただし$$a_n, a_1$$は隣接している。

まず長さ2のときは$$(1,2)$$とすればよい。

長さ3のときはどのようにしても作ることができないことが簡単に示せる。
円の中の最小の数字を固定して$$a_1 = X$$としてみる。
また$$a_1,a_2$$の比を素数$$p$$、$$a_3,a_1$$の比を素数$$q$$とする。
このとき$$a_1$$が最小なので$$a_2 = pX,\ a_3 = qX$$でなければならない。
このとき$$a_2, a_3$$の比は$$\frac{p}{q}, \frac{q}{p}$$のどちらかであるが、
$$p,q$$が素数であることからこの比が自然数になるには$$p=q$$となる必要がある。
しかしこのとき比は$$1$$となるのでどのようにしても条件を満たす数列は作れない。

$$n=4$$のときは例えば$$(1,2,6,3)$$とすればよい。

このことから$$n$$が偶数のときは常に存在して奇数のときは存在しなさそうである。

実際偶数のときは簡単に構成することができて$$(1,2,1,2,\ldots,1,2)$$が条件を満たす。

奇数のときに作れないとしたら、それはパリティが関わってくるはずである。
そのように考えると$$n$$が1増えるとちょうど1ずつ変化する何かがあるはずである。

数列を$$(a_1,a_2,\ldots,a_{2k+1})$$とする。
数列を前から順番に見ていくとその比が素数であることから、重複を許した素因数の個数
(つまり素因数分解したときの肩の和)は1増えるか減るかのどちらかである。
そこで$$N_i$$を$$a_i$$の重複を許した素因数の個数と定める。
先の考察から任意の$$i$$で$$N_i, N_{i+1}$$の偶奇は異なる。また$$N_1, N_{2k+1}$$の偶奇も異なる。

$$N_i, N_{i+1}$$の偶奇は異なるため$$N_1,N_3,\ldots,N_{2k+1}$$の偶奇は一致する。
つまり$$N_1,N_{2k+1}$$の偶奇が一致してしまうため、上の条件を満たす数列は存在しない。

よって条件を満たすような1995個の数字を円に並べる方法は存在しない。